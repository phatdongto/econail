{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\snowd\\\\Desktop\\\\isoadmin-330\\\\admin\\\\isomorphic\\\\node_modules\\\\@iso\\\\components\\\\Tables\\\\ImageCell.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nvar PendingPool = {};\nvar ReadyPool = {};\nexport default function ImageCell(_ref) {\n  _s();\n\n  var src = _ref.src;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      srcState = _React$useState2[0],\n      setSrcState = _React$useState2[1];\n\n  React.useEffect(function () {\n    loadImage(src);\n  }, [loadImage]);\n\n  function loadImage(src) {\n    if (ReadyPool[src]) {\n      setSrcState(src);\n      return;\n    }\n\n    if (PendingPool[src]) {\n      PendingPool[src].push(onLoadImage);\n      return;\n    }\n\n    PendingPool[src] = [onLoadImage];\n    var img = new Image();\n\n    img.onload = function () {\n      PendingPool[src].forEach(function (callback) {\n        callback(src);\n      });\n      delete PendingPool[src];\n      img.onload = null;\n      src = undefined;\n    };\n\n    img.src = setSrcState;\n  }\n\n  function onLoadImage(source) {\n    ReadyPool[src] = true;\n\n    if (source === src) {\n      setSrc(source);\n    }\n  }\n\n  var style = src ? {\n    backgroundImage: \"url(\".concat(src, \")\"),\n    width: '70px',\n    height: '70px',\n    backgroundSize: 'cover'\n  } : undefined;\n  return __jsx(\"div\", {\n    className: \"exampleImage\",\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 10\n    }\n  });\n}\n\n_s(ImageCell, \"itNbNKnUUKAWQfG6+cp8i7/f3xU=\");\n\n_c = ImageCell;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageCell\");","map":{"version":3,"sources":["C:/Users/snowd/Desktop/isoadmin-330/admin/isomorphic/node_modules/@iso/components/Tables/ImageCell.js"],"names":["React","PendingPool","ReadyPool","ImageCell","src","useState","srcState","setSrcState","useEffect","loadImage","push","onLoadImage","img","Image","onload","forEach","callback","undefined","source","setSrc","style","backgroundImage","width","height","backgroundSize"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,WAAW,GAAG,EAApB;AACA,IAAMC,SAAS,GAAG,EAAlB;AAEA,eAAe,SAASC,SAAT,OAA4B;AAAA;;AAAA,MAAPC,GAAO,QAAPA,GAAO;;AACzC,wBAAgCJ,KAAK,CAACK,QAAN,CAAe,KAAf,CAAhC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB;;AAEAP,EAAAA,KAAK,CAACQ,SAAN,CAAgB,YAAM;AACpBC,IAAAA,SAAS,CAACL,GAAD,CAAT;AACD,GAFD,EAEG,CAACK,SAAD,CAFH;;AAGA,WAASA,SAAT,CAAmBL,GAAnB,EAAwB;AACtB,QAAIF,SAAS,CAACE,GAAD,CAAb,EAAoB;AAClBG,MAAAA,WAAW,CAACH,GAAD,CAAX;AACA;AACD;;AAED,QAAIH,WAAW,CAACG,GAAD,CAAf,EAAsB;AACpBH,MAAAA,WAAW,CAACG,GAAD,CAAX,CAAiBM,IAAjB,CAAsBC,WAAtB;AACA;AACD;;AACDV,IAAAA,WAAW,CAACG,GAAD,CAAX,GAAmB,CAACO,WAAD,CAAnB;AAEA,QAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;;AACAD,IAAAA,GAAG,CAACE,MAAJ,GAAa,YAAM;AACjBb,MAAAA,WAAW,CAACG,GAAD,CAAX,CAAiBW,OAAjB,CAAyB,UAAAC,QAAQ,EAAI;AACnCA,QAAAA,QAAQ,CAACZ,GAAD,CAAR;AACD,OAFD;AAGA,aAAOH,WAAW,CAACG,GAAD,CAAlB;AACAQ,MAAAA,GAAG,CAACE,MAAJ,GAAa,IAAb;AACAV,MAAAA,GAAG,GAAGa,SAAN;AACD,KAPD;;AAQAL,IAAAA,GAAG,CAACR,GAAJ,GAAUG,WAAV;AACD;;AACD,WAASI,WAAT,CAAqBO,MAArB,EAA6B;AAC3BhB,IAAAA,SAAS,CAACE,GAAD,CAAT,GAAiB,IAAjB;;AACA,QAAIc,MAAM,KAAKd,GAAf,EAAoB;AAClBe,MAAAA,MAAM,CAACD,MAAD,CAAN;AACD;AACF;;AACD,MAAME,KAAK,GAAGhB,GAAG,GACb;AACEiB,IAAAA,eAAe,gBAASjB,GAAT,MADjB;AAEEkB,IAAAA,KAAK,EAAE,MAFT;AAGEC,IAAAA,MAAM,EAAE,MAHV;AAIEC,IAAAA,cAAc,EAAE;AAJlB,GADa,GAObP,SAPJ;AAQA,SAAO;AAAK,IAAA,SAAS,EAAC,cAAf;AAA8B,IAAA,KAAK,EAAEG,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD;;GA5CuBjB,S;;KAAAA,S","sourcesContent":["import React from 'react';\n\nconst PendingPool = {};\nconst ReadyPool = {};\n\nexport default function ImageCell({ src }) {\n  const [srcState, setSrcState] = React.useState(false);\n\n  React.useEffect(() => {\n    loadImage(src);\n  }, [loadImage]);\n  function loadImage(src) {\n    if (ReadyPool[src]) {\n      setSrcState(src);\n      return;\n    }\n\n    if (PendingPool[src]) {\n      PendingPool[src].push(onLoadImage);\n      return;\n    }\n    PendingPool[src] = [onLoadImage];\n\n    const img = new Image();\n    img.onload = () => {\n      PendingPool[src].forEach(callback => {\n        callback(src);\n      });\n      delete PendingPool[src];\n      img.onload = null;\n      src = undefined;\n    };\n    img.src = setSrcState;\n  }\n  function onLoadImage(source) {\n    ReadyPool[src] = true;\n    if (source === src) {\n      setSrc(source);\n    }\n  }\n  const style = src\n    ? {\n        backgroundImage: `url(${src})`,\n        width: '70px',\n        height: '70px',\n        backgroundSize: 'cover',\n      }\n    : undefined;\n  return <div className=\"exampleImage\" style={style} />;\n}\n"]},"metadata":{},"sourceType":"module"}